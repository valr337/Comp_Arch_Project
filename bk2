.set sys_exit, 60
.set sys_read, 0
.set sys_write, 1

.set stdin, 0
.set stdout, 1

.set success, 0
.set buffer_len, 64

.data
buffer:
        .byte buffer_len

.text

.global _start
.intel_syntax noprefix

_start:

// Read input from the user
    mov rax, sys_read
    mov rdi, stdin
    mov rsi, [buffer]
    mov rdx, buffer_len
    syscall

// Write whatever the user entered back out
    mov rdx, rax
    mov rax, sys_write
    mov rdi, stdout
    mov rsi, [buffer]
    syscall

// End the program
    mov rax, sys_exit
    mov rdi, success
    syscall